<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Set Your Password</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        span {
            color: red;
        }

        li {
            color: orange;
        }
    </style>

</head>

<body>
    <!-- Registration 12 - Bootstrap Brain Component -->
     {% load static %}
     <div class="d-flex justify-content-start align-items-center">
            <a href="/"><img width="90px" src="{% static 'images/file.png' %}" alt=""></a>
            <h5 class="my-3 fs-2">Fake news Detetion</h5>

     </div>

    <section class="px-2 py-xl-8 card-body d-flex justify-content-center align-items-center">
        <div class="col-12 card p-2 py-4 col-lg-10 col-xl-8 border-primary border-2 shadow-lg">
            <a href="/password/reset/" class="btn btn-sm btn-outline-dark text-info d-flex align-items-center" style="width:100px;"><i class="bi bi-arrow-left-short fs-5"></i> Go back</a>
            <div class="row">
                <div class="col-12">
                    <div class="mb-5">
                        <h2 class="display-5 fw-bold text-center">Set new password</h2>
                    </div>
                </div>
            </div>



            <div class="d-flex gy-5 justify-content-center">
                <div class="col-12 col-lg-5">
                    <form method="post" action="/accounts/password/reset/key/">
                        {% csrf_token %}
                        <div class="row gy-3 overflow-hidden">
                            <div class="col-12">
                                <div class="form-floating mb-3">

                                    <input type="password" name="password1"
                                        class="form-control border-0 border-bottom rounded-0" placeholder="password"
                                        autocomplete="email" required="" id="password1">

                                    <label for="firstName" class="form-label">password
                                        <span>*</span></label>
                                    {% if form.password1.errors %}
                                    <ul class="text-danger">
                                        {% for error in form.password1.errors %}
                                        <li>{{ error }}</li>
                                        {% endfor %}
                                    </ul>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-floating mb-3">

                                    <input type="password" name="password2"
                                        class="form-control border-0 border-bottom rounded-0"
                                        placeholder="Confirm password" maxlength="320" required="" id="password2">

                                    <label for="firstName" class="form-label">Confirm Password
                                        <span>*</span></label>
                                    {% if form.password2.errors %}
                                    <ul class="text-danger">
                                        {% for error in form.password2.errors %}
                                        <li>{{ error }}</li>
                                        {% endfor %}
                                    </ul>
                                    {% endif %}
                                </div>
                            </div>

                            <div class="d-flex justify-content-start align-items-center">
                                <label for="showpassword">Show Password</label>
                                <button class="btn" type="button" onclick="showpassword(this)"
                                    style="border: none;outline: none;"><i
                                        class="bi bi-eye-slash fs-4 text-primary"></i></button>
                            </div>


                            {% if form.non_field_errors %}
                                <div class="alert alert-danger">
                                    {% for error in form.non_field_errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                </div>
                                {% endif %}

                            <div class="col-12">
                                <div class="d-grid">
                                    <button class="btn btn-lg btn-primary rounded fs-6" type="submit">Save new Password</button>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>

            </div>

        </div>
    </section>



    <script>
        function showpassword(obj) {
            ''
            let password1 = document.getElementById("password1");
            let password2 = document.getElementById("password2");

            console.log(password1.type)

            if (password1.getAttribute("type") === "password") {
                password1.setAttribute("type", 'text');
                password2.setAttribute("type", 'text');

                obj.innerHTML = '<i class="bi bi-eye fs-4 text-danger"></i>'
            }
            else {

                password1.setAttribute("type", 'password');
                password2.setAttribute("type", 'password');
                obj.innerHTML = '<i class="bi bi-eye-slash text-primary fs-4"></i>'

            }

        }
    </script>

</body>

</html>